{"ast":null,"code":"import _regeneratorRuntime from\"/Users/Tim/Desktop/Code/iss-tracker/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/Tim/Desktop/Code/iss-tracker/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/Tim/Desktop/Code/iss-tracker/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import'./App.css';import{MapContainer,TileLayer,Marker,Circle,useMap}from'react-leaflet';import issIcon from'../components/issIcon';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),longitude=_useState4[0],setLongitude=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),latitude=_useState6[0],setLatitude=_useState6[1];useEffect(function(){setInterval(function(){getLocation();},5000);},[]);var getLocation=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:setLoading(true);_context.next=3;return fetch(\"http://api.open-notify.org/iss-now.json\").then(function(response){return response.json();}).then(function(data){setLongitude(data.iss_position.longitude);setLatitude(data.iss_position.latitude);});case 3:case\"end\":return _context.stop();}},_callee);}));return function getLocation(){return _ref.apply(this,arguments);};}();function UpdateMap(){var map=useMap();map.setView({lng:longitude,lat:latitude});}return/*#__PURE__*/_jsx(\"header\",{className:\"ISS Tracker\",children:!loading?/*#__PURE__*/_jsx(\"h1\",{children:\"Loading...\"}):/*#__PURE__*/_jsxs(MapContainer,{center:{lng:longitude,lat:latitude},zoom:6,scrollWheelZoom:true,children:[/*#__PURE__*/_jsx(TileLayer,{attribution:\"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\",url:\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"}),/*#__PURE__*/_jsx(Circle,{center:{lng:longitude,lat:latitude},radius:80000,color:'red',opacity:0.3}),/*#__PURE__*/_jsx(Marker,{position:{lng:longitude,lat:latitude},icon:issIcon()}),/*#__PURE__*/_jsx(UpdateMap,{})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","MapContainer","TileLayer","Marker","Circle","useMap","issIcon","App","loading","setLoading","longitude","setLongitude","latitude","setLatitude","setInterval","getLocation","fetch","then","response","json","data","iss_position","UpdateMap","map","setView","lng","lat"],"sources":["/Users/Tim/Desktop/Code/iss-tracker/src/containers/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport { MapContainer, TileLayer, Marker, Circle, useMap } from 'react-leaflet';\nimport issIcon from '../components/issIcon';\n\nfunction App() {\n  const [loading, setLoading] = useState(false)\n  const [longitude, setLongitude] = useState(null);\n  const [latitude, setLatitude] = useState(null);\n\n  useEffect(() => {\n    setInterval(() => {\n      getLocation()\n    }, 5000);\n  }, []);\n\n  const getLocation = async () => {\n    setLoading(true);\n    await fetch(\"http://api.open-notify.org/iss-now.json\")\n      .then((response) => response.json())\n          .then((data) => {\n              setLongitude(data.iss_position.longitude);\n              setLatitude(data.iss_position.latitude);\n      })\n    }\n\n  function UpdateMap() {\n    const map = useMap();\n    map.setView({lng: longitude, lat: latitude})\n  }\n\n  return (\n      <header className=\"ISS Tracker\">\n      {!loading ? \n        <h1>Loading...</h1> : (\n        <MapContainer center={{lng: longitude, lat: latitude}} zoom={6} scrollWheelZoom={true}>\n          <TileLayer\n            attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n          />\n          <Circle center={{lng:longitude, lat:latitude}} radius={80000} color={'red'} opacity={0.3}/>\n          <Marker position={{lng:longitude, lat:latitude}} icon={issIcon()}/>\n          <UpdateMap />\n        </MapContainer>\n      )}\n      </header>\n  );\n}\n\nexport default App;\n"],"mappings":"2XAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,WAAW,CAClB,OAASC,YAAY,CAAEC,SAAS,CAAEC,MAAM,CAAEC,MAAM,CAAEC,MAAM,KAAQ,eAAe,CAC/E,MAAOC,QAAO,KAAM,uBAAuB,CAAC,wFAE5C,QAASC,IAAG,EAAG,CACb,cAA8BR,QAAQ,CAAC,KAAK,CAAC,wCAAtCS,OAAO,eAAEC,UAAU,eAC1B,eAAkCV,QAAQ,CAAC,IAAI,CAAC,yCAAzCW,SAAS,eAAEC,YAAY,eAC9B,eAAgCZ,QAAQ,CAAC,IAAI,CAAC,yCAAvCa,QAAQ,eAAEC,WAAW,eAE5Bb,SAAS,CAAC,UAAM,CACdc,WAAW,CAAC,UAAM,CAChBC,WAAW,EAAE,CACf,CAAC,CAAE,IAAI,CAAC,CACV,CAAC,CAAE,EAAE,CAAC,CAEN,GAAMA,YAAW,4FAAG,oIAClBN,UAAU,CAAC,IAAI,CAAC,CAAC,sBACXO,MAAK,CAAC,yCAAyC,CAAC,CACnDC,IAAI,CAAC,SAACC,QAAQ,QAAKA,SAAQ,CAACC,IAAI,EAAE,GAAC,CAC/BF,IAAI,CAAC,SAACG,IAAI,CAAK,CACZT,YAAY,CAACS,IAAI,CAACC,YAAY,CAACX,SAAS,CAAC,CACzCG,WAAW,CAACO,IAAI,CAACC,YAAY,CAACT,QAAQ,CAAC,CAC/C,CAAC,CAAC,sDACH,kBARGG,YAAW,0CAQd,CAEH,QAASO,UAAS,EAAG,CACnB,GAAMC,IAAG,CAAGlB,MAAM,EAAE,CACpBkB,GAAG,CAACC,OAAO,CAAC,CAACC,GAAG,CAAEf,SAAS,CAAEgB,GAAG,CAAEd,QAAQ,CAAC,CAAC,CAC9C,CAEA,mBACI,eAAQ,SAAS,CAAC,aAAa,UAC9B,CAACJ,OAAO,cACP,oBAAI,YAAU,EAAK,cACnB,MAAC,YAAY,EAAC,MAAM,CAAE,CAACiB,GAAG,CAAEf,SAAS,CAAEgB,GAAG,CAAEd,QAAQ,CAAE,CAAC,IAAI,CAAE,CAAE,CAAC,eAAe,CAAE,IAAK,wBACpF,KAAC,SAAS,EACR,WAAW,CAAC,yFAAyF,CACrG,GAAG,CAAC,oDAAoD,EACxD,cACF,KAAC,MAAM,EAAC,MAAM,CAAE,CAACa,GAAG,CAACf,SAAS,CAAEgB,GAAG,CAACd,QAAQ,CAAE,CAAC,MAAM,CAAE,KAAM,CAAC,KAAK,CAAE,KAAM,CAAC,OAAO,CAAE,GAAI,EAAE,cAC3F,KAAC,MAAM,EAAC,QAAQ,CAAE,CAACa,GAAG,CAACf,SAAS,CAAEgB,GAAG,CAACd,QAAQ,CAAE,CAAC,IAAI,CAAEN,OAAO,EAAG,EAAE,cACnE,KAAC,SAAS,IAAG,GAEhB,EACQ,CAEf,CAEA,cAAeC,IAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}